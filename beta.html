<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="favicon.ico">
    <link href="//getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="//getbootstrap.com/assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <title>EthereumDollar</title>
  </head>

  <body>

    <div id="family">
      <div class="inside">
        <button type="button" class="btn btn-default btn-xs"><a href="https://etherboost.github.io"><img src="//etherboost.github.io/images/logo.svg" style="height: 25px;" /> The Etherboost Family</a></button>
        <button type="button" class="btn btn-default btn-xs"><a href="https://etherdelta.github.io"><img src="//etherboost.github.io/images/etherdelta_logo.svg" style="height: 25px;" /> EtherDelta &#8212; decentralized token exchange</a></button>
        <button type="button" class="btn btn-default btn-xs"><a href="https://ethereumdollar.github.io"><img src="//etherboost.github.io/images/ethereumdollar_logo.svg" style="height: 25px;" /> EthereumDollar &#8212; stable dollar token</a></button>
        <button type="button" class="btn btn-default btn-xs"><a href="https://etheropt.github.io"><img src="//etherboost.github.io/images/etheropt_logo.svg" style="height: 25px;" /> Etheropt &#8212; decentralized options exchange</a></button>
      </div>
    </div>

    <div id="title">
      <img src="title.svg" />
    </div>

    <div id="description">
      EthereumDollar is a stable dollar token, tradable on the <a href="https://ethereum.org" target="_blank">Ethereum</a> blockchain and backed by Ether as collateral.
    </div>

    <div id="page">
      <div id="content">
        <div id="addresses">
          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fa fa-circle-o-notch fa-spin"></i>
          </button>
        </div>

        <div class="row">
          <div class="col-xs-6">

            <h3>Backer Token</h3>
            <ul class="list-group">
              <li class="list-group-item">
                My Balance
                <span class="badge"><span id="balance_backer">?</span> BKR</span>
              </li>
              <li class="list-group-item">
                <form class="form-inline">
                  <div class="form-group">
                    <div class="input-group">
                      <div class="input-group-addon">ETH</div>
                      <input type="text" class="form-control" id="create_backer_amount" placeholder="Amount">
                    </div>
                  </div>
                  <button type="submit" class="btn btn-primary" id="create_backer_submit">Create</button>
                </form>
              </li>
              <li class="list-group-item">
                <form class="form-inline">
                  <div class="form-group">
                    <div class="input-group">
                      <div class="input-group-addon">BKR</div>
                      <input type="text" class="form-control" id="redeem_backer_amount" placeholder="Amount">
                    </div>
                  </div>
                  <button type="submit" class="btn btn-primary" id="redeem_backer_submit">Redeem</button>
                </form>
              </li>
              <li class="list-group-item">
                <form class="form-inline">
                  <div class="form-group">
                    <div class="input-group">
                      <div class="input-group-addon">BKR</div>
                      <input type="text" style="width: 75px;" class="form-control" id="transfer_backer_amount" placeholder="Amount">
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="input-group">
                      <div class="input-group-addon"><i class="fa fa-user" aria-hidden="true"></i></div>
                      <input type="text" class="form-control" id="transfer_backer_address" placeholder="Address (0x...)">
                    </div>
                  </div>
                  <button type="submit" class="btn btn-primary" id="transfer_backer_submit">Transfer</button>
                </form>
              </li>
            </ul>

          </div>
          <div class="col-xs-6">

            <h3>Dollar Token</h3>
            <ul class="list-group">
              <li class="list-group-item">
                My Balance
                <span class="badge"><span id="balance_dollar">?</span> EUSD</span>
              </li>
              <li class="list-group-item">
                <form class="form-inline">
                  <div class="form-group">
                    <div class="input-group">
                      <div class="input-group-addon">ETH</div>
                      <input type="text" class="form-control" id="create_dollar_amount" placeholder="Amount">
                    </div>
                  </div>
                  <button type="submit" class="btn btn-primary" id="create_dollar_submit">Create</button>
                </form>
              </li>
              <li class="list-group-item">
                <form class="form-inline">
                  <div class="form-group">
                    <div class="input-group">
                      <div class="input-group-addon">EUSD</div>
                      <input type="text" class="form-control" id="redeem_dollar_amount" placeholder="Amount">
                    </div>
                  </div>
                  <button type="submit" class="btn btn-primary" id="redeem_dollar_submit">Redeem</button>
                </form>
              </li>
              <li class="list-group-item">
                <form class="form-inline">
                  <div class="form-group">
                    <div class="input-group">
                      <div class="input-group-addon">EUSD</div>
                      <input type="text" style="width: 75px;" class="form-control" id="transfer_dollar_amount" placeholder="Amount">
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="input-group">
                      <div class="input-group-addon"><i class="fa fa-user" aria-hidden="true"></i></div>
                      <input type="text" class="form-control" id="transfer_dollar_address" placeholder="Address (0x...)">
                    </div>
                  </div>
                  <button type="submit" class="btn btn-primary" id="transfer_dollar_submit">Transfer</button>
                </form>
              </li>
            </ul>

          </div>
        </div>

        <div class="box-container padding-top">
          <div class="row">
            <div class="col-xs-6">
              <div id="events-container">
                <div id="events"></div>
              </div>
            </div>
            <div class="col-xs-6">
              <div id="notifications-container" name="notifications">
                <button type="button" class="btn btn-default btn-xs" id="clear-log" style="float: right;">Clear log</button>
                <div id="notifications"></div>
              </div>
            </div>
          </div>
        </div>

        <div class="box-container">
          <div id="stats">
            <p><i class="fa fa-circle-o-notch fa-spin"></i></p>
          </div>
        </div>

        <div class="box-container">
          <div id="stats_contracts">
            <p><i class="fa fa-circle-o-notch fa-spin"></i></p>
          </div>
        </div>

        <div class="box-container">
          <h3>Explanation</h3>
          <p>
            EthereumDollar is a stable dollar token, tradable on the Ethereum blockchain and backed by Ether as collateral.
            It is defined in an Ethereum smart contract.
            You can see the source code on <a href="http://github.com/ethereumdollar/ethereumdollar.github.io" target="_blank">GitHub</a>.
          </p>
          <p>
            There are two kinds of token, Backer Token and Dollar Token. These tokens follow the Ethereum Token Standard, so they can be traded on exchanges and used by other smart contracts.
            Either token can be created by sending an Ethereum transaction to the smart contract.
            The value sent with a createBackerTokens() transaction will be converted into Backer Tokens at the current Backer Rate.
            The value sent with a createDollarTokens() transaction will be converted into Dollar Tokens at the current Exchange Rate.
          </p>
          <p>
            Backer Tokens can be redeemed for Ether at the current Backer Rate by calling redeemBackerTokens(amount).
            Dollar Tokens can be redeemed at the current Exchange Rate by calling redeemDollarTokens(amount).
            There is a 1% fee charged for creation and redemption.
          </p>
          <p>
            Solvency is defined as EthereumDollar's Ether balance in dollar terms (at the current Exchange Rate) divided by the Dollar Token supply, or 1.0 if the Dollar Token supply is 0.
            The minimum solvency levels (to create Dollar Tokens, redeem Dollar Tokens, and redeem Backer Tokens) are listed above.
            When calculating whether solvency meets the minimum, the effect of the current creation or redemption is included.
          </p>
          <p>
            The Exchange Rate can be updated by calling updateExchangeRate().
            This will query Etherscan for the current ETH/USD price via Oraclize.
            If the Exchange Rate is out of date and too low, then Backer Token holders will want to update it.
            If the Exchange Rate is out of date and too high, then Dollar Token holders will want to update it.
            Hence, the Exchange Rate should stay up to date.
          </p>
          <p>
            The Backer Rate is calculated with the following formula:
            <pre>
  if solvency>=1.0 then
      backerRate = (etherBalance - dollarTokenSupply / exchangeRate) / backerTokenSupply
  else
      backerRate = 0.000001
            </pre>
          </p>
        </div>

      </div>

    </div>

    <div id="footer">
      <div id="connection">
      </div>
    </div>

    <div id="loading">
      <i class="fa fa-circle-o-notch fa-spin fa-3x"></i>
    </div>

    <!-- Address -->
    <div class="modal fade" id="address_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">Add account</h4>
          </div>
          <div class="modal-body">
            <form>
              <div class="form-group">
                <label for="address_addr">Address</label>
                <input type="text" class="form-control" id="address_addr" placeholder="Address (0x.....)" />
              </div>
              <div id="pk_div">
                <div class="form-group">
                  <label for="address_addr">Private key</label>
                  <input type="text" class="form-control" id="address_pk" placeholder="Private key (0x.....)" />
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-primary" id="address_submit">Add account</button>
          </div>
        </div>
      </div>
    </div>

    <script src="//code.jquery.com/jquery-1.11.1.min.js" type="text/javascript"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script src="ejs_production.js" type="text/javascript"></script>
    <script src="bundle.js" type="text/javascript"></script>
    <script src="script.js" type="text/javascript"></script>
  </body>
</html>
